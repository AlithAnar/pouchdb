// PouchDB websql plugin 7.0.0-prerelease
// Since PouchDB 7.0.0, shipped as a separate plugin.
// 
// (c) 2012-2018 Dale Harvey and the PouchDB team
// PouchDB may be freely distributed under the Apache license, version 2.0.
// For all details and documentation:
// http://pouchdb.com
!function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){return i(t[a][1][e]||e)},f,f.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}}()({1:[function(e,t,n){"use strict";t.exports=function(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}},{}],2:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,s,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var f=new Error('Uncaught, unspecified "error" event. ('+t+")");throw f.context=t,f}if(a(n=this._events[e]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),r=(c=n.slice()).length,u=0;u<r;u++)c[u].apply(this,s);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var n,r,a,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],3:[function(e,t,n){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,a=new i(f),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){f(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(f,0)};else{var u=new e.MessageChannel;u.port1.onmessage=f,n=function(){u.port2.postMessage(0)}}var c=[];function f(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}t.exports=function(e){1!==c.push(e)||r||n()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],5:[function(e,t,n){!function(e){if("object"==typeof n)t.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var r;try{r=window}catch(e){r=self}r.SparkMD5=e()}}(function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+t[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&n)+t[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+t[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&n)+t[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+t[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&n)+t[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+t[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&n)+t[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|i>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+t[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|i>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|i>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+t[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|i>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|i>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|i>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|i>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|i>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[14]-1416354905|0)<<15|i>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[10]-1051523|0)<<15|i>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[6]-1560198380|0)<<15|i>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[2]+718787259|0)<<15|i>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var t,i,o,a,s,u,c=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(f,r(e.substring(t-64,t)));for(i=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(f,o),t=0;t<16;t+=1)o[t]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,o[14]=s,o[15]=u,n(f,o),f}function a(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}function s(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function u(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function f(){this.reset()}return"5d41402abc4b2a76b9719d911017c592"!==s(o("hello"))&&function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var i,o,a,s,u=this.byteLength,c=t(n,u),f=u;return r!==e&&(f=t(r,u)),c>f?new ArrayBuffer(0):(i=f-c,o=new ArrayBuffer(i),a=new Uint8Array(o),s=new Uint8Array(this,c,i),a.set(s),o)}}(),f.prototype.append=function(e){return this.appendBinary(u(e)),this},f.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},f.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),n=s(this._hash),e&&(n=c(n)),this.reset(),n},f.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},f.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},f.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},f.prototype._finish=function(e,t){var r,i,o,a=t;if(e[a>>2]|=128<<(a%4<<3),a>55)for(n(this._hash,e),a=0;a<16;a+=1)e[a]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),o=parseInt(r[1],16)||0,e[14]=i,e[15]=o,n(this._hash,e)},f.hash=function(e,t){return f.hashBinary(u(e),t)},f.hashBinary=function(e,t){var n=s(o(e));return t?c(n):n},f.ArrayBuffer=function(){this.reset()},f.ArrayBuffer.prototype.append=function(e){var t,r,o,a,s,u=(r=this._buff.buffer,o=e,a=!0,(s=new Uint8Array(r.byteLength+o.byteLength)).set(new Uint8Array(r)),s.set(new Uint8Array(o),r.byteLength),a?s:s.buffer),c=u.length;for(this._length+=e.byteLength,t=64;t<=c;t+=64)n(this._hash,i(u.subarray(t-64,t)));return this._buff=t-64<c?new Uint8Array(u.buffer.slice(t-64)):new Uint8Array(0),this},f.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r[t]<<(t%4<<3);return this._finish(o,i),n=s(this._hash),e&&(n=c(n)),this.reset(),n},f.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.ArrayBuffer.prototype.getState=function(){var e,t=f.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},f.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,r=e.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n+=1)o[n]=e.charCodeAt(n);return t?o:i}(e.buff,!0),f.prototype.setState.call(this,e)},f.ArrayBuffer.prototype.destroy=f.prototype.destroy,f.ArrayBuffer.prototype._finish=f.prototype._finish,f.ArrayBuffer.hash=function(e,t){var r=s(function(e){var t,r,o,a,s,u,c=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(f,i(e.subarray(t-64,t)));for(r=(e=t-64<c?e.subarray(t-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(f,o),t=0;t<16;t+=1)o[t]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,o[14]=s,o[15]=u,n(f,o),f}(new Uint8Array(e)));return t?c(r):r},f})},{}],6:[function(e,t,n){var r=e(9),i=e(10),o=i;o.v1=r,o.v4=i,t.exports=o},{10:10,9:9}],7:[function(e,t,n){for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);t.exports=function(e,t){var n=t||0,i=r;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}},{}],8:[function(e,t,n){var r="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(r){var i=new Uint8Array(16);t.exports=function(){return r(i),i}}else{var o=new Array(16);t.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},{}],9:[function(e,t,n){var r,i,o=e(8),a=e(7),s=0,u=0;t.exports=function(e,t,n){var c=t&&n||0,f=t||[],d=(e=e||{}).node||r,l=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==l){var h=o();null==d&&(d=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==l&&(l=i=16383&(h[6]<<8|h[7]))}var v=void 0!==e.msecs?e.msecs:(new Date).getTime(),p=void 0!==e.nsecs?e.nsecs:u+1,_=v-s+(p-u)/1e4;if(_<0&&void 0===e.clockseq&&(l=l+1&16383),(_<0||v>s)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=v,u=p,i=l;var g=(1e4*(268435455&(v+=122192928e5))+p)%4294967296;f[c++]=g>>>24&255,f[c++]=g>>>16&255,f[c++]=g>>>8&255,f[c++]=255&g;var m=v/4294967296*1e4&268435455;f[c++]=m>>>8&255,f[c++]=255&m,f[c++]=m>>>24&15|16,f[c++]=m>>>16&255,f[c++]=l>>>8|128,f[c++]=255&l;for(var y=0;y<6;++y)f[c+y]=d[y];return t||a(f)}},{7:7,8:8}],10:[function(e,t,n){var r=e(8),i=e(7);t.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},{7:7,8:8}],11:[function(e,t,n){"use strict";function r(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(e);else if(o===t.length-2){i[t.pop()]=e}else t.push(e)}n.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,i,o,a,s,u,c,f,d,l="";n=t.pop();)if(r=n.obj,l+=n.prefix||"",i=n.val||"")l+=i;else if("object"!=typeof r)l+=void 0===r?null:JSON.stringify(r);else if(null===r)l+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),o=r.length-1;o>=0;o--)a=0===o?"":",",t.push({obj:r[o],prefix:a});t.push({val:"["})}else{for(u in s=[],r)r.hasOwnProperty(u)&&s.push(u);for(t.push({val:"}"}),o=s.length-1;o>=0;o--)f=r[c=s[o]],d=o>0?",":"",d+=JSON.stringify(c)+":",t.push({obj:f,prefix:d});t.push({val:"{"})}return l},n.parse=function(e){for(var t,n,i,o,a,s,u,c,f,d=[],l=[],h=0;;)if("}"!==(t=e[h++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":h+=3,r(null,d,l);break;case"t":h+=3,r(!0,d,l);break;case"f":h+=4,r(!1,d,l);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",h--;;){if(i=e[h++],!/[\d\.\-e\+]/.test(i)){h--;break}n+=i}r(parseFloat(n),d,l);break;case'"':for(o="",a=void 0,s=0;'"'!==(u=e[h++])||"\\"===a&&s%2==1;)o+=u,"\\"===(a=u)?s++:s=0;r(JSON.parse('"'+o+'"'),d,l);break;case"[":c={element:[],index:d.length},d.push(c.element),l.push(c);break;case"{":f={element:{},index:d.length},d.push(f.element),l.push(f);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===d.length)return d.pop();r(d.pop(),d,l)}}},{}],12:[function(e,t,n){(function(t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var r=n(e(1)),i=n(e(3)),o=e(2),a=n(e(4)),s=n(e(6)),u=n(e(5)),c=n(e(11));function f(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}var d,l,h,v=Function.prototype.toString,p=v.call(Object);function _(e){var t,n,r,i;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=_(e[n]);return t}if(e instanceof Date)return e.toISOString();if(i=e,"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer||"undefined"!=typeof Blob&&i instanceof Blob)return f(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&v.call(n)==p}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=_(e[n]);void 0!==o&&(t[n]=o)}return t}function g(e){return r(function(t){var n=this,i="function"==typeof(t=_(t))[t.length-1]&&t.pop(),o=new Promise(function(i,o){var a,s,u;try{var c=(s=function(e,t){e?o(e):i(t)},u=!1,r(function(e){if(u)throw new Error("once called more than once");u=!0,s.apply(this,e)}));t.push(c),(a=e.apply(n,t))&&"function"==typeof a.then&&i(a)}catch(e){o(e)}});return i&&o.then(function(e){i(null,e)},i),o})}function m(e){return"$"+e}function y(){this._store={}}function E(e){if(this._store=new y,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function S(e,t){for(var n={},r=0,i=t.length;r<i;r++){var o=t[r];o in e&&(n[o]=e[o])}return n}function b(){return"undefined"!=typeof chrome&&void 0!==chrome.storage&&void 0!==chrome.storage.local}if(y.prototype.get=function(e){var t=m(e);return this._store[t]},y.prototype.set=function(e,t){var n=m(e);return this._store[n]=t,!0},y.prototype.has=function(e){return m(e)in this._store},y.prototype.delete=function(e){var t=m(e),n=t in this._store;return delete this._store[t],n},y.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var i=t[n];e(this._store[i],i=i.substring(1))}},Object.defineProperty(y.prototype,"size",{get:function(){return Object.keys(this._store).length}}),E.prototype.add=function(e){return this._store.set(e,!0)},E.prototype.has=function(e){return this._store.has(e)},E.prototype.forEach=function(e){this._store.forEach(function(t,n){e(n)})},Object.defineProperty(E.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(d=E,l=y):(d=Set,l=Map),b())h=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),h=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){h=!1}function w(){return h}function A(){var e;o.EventEmitter.call(this),this._listeners={},e=this,b()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):w()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function T(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}a(A,o.EventEmitter),A.prototype.addListener=function(e,t,n,r){if(!this._listeners[t]){var o=this,a=!1;this._listeners[t]=s,this.on(e,s)}function s(){if(o._listeners[t])if(a)a="waiting";else{a=!0;var e=S(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(e).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===a&&i(s),a=!1}).on("error",function(){a=!1})}}},A.prototype.removeListener=function(e,t){t in this._listeners&&(o.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},A.prototype.notifyLocalWindows=function(e){b()?chrome.storage.local.set({dbName:e}):w()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},A.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var q="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t};function x(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}a(x,Error),x.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new x(401,"unauthorized","Name or password is incorrect."),new x(400,"bad_request","Missing JSON list of 'docs'");var O=new x(404,"not_found","missing"),L=new x(409,"conflict","Document update conflict"),N=new x(400,"bad_request","_id field must contain a string"),I=new x(412,"missing_id","_id is required for puts"),R=new x(400,"bad_request","Only reserved document ids may start with underscore."),C=(new x(412,"precondition_failed","Database not open"),new x(500,"unknown_error","Database encountered an unknown error"),new x(500,"badarg","Some query argument is invalid")),D=(new x(400,"invalid_request","Request was invalid"),new x(400,"query_parse_error","Some query parameter is invalid"),new x(500,"doc_validation","Bad special document member")),B=new x(400,"bad_request","Something wrong with the request"),U=(new x(400,"bad_request","Document must be a JSON object"),new x(404,"not_found","Database not found"),new x(500,"indexed_db_went_bad","unknown"),new x(500,"web_sql_went_bad","unknown")),F=(new x(500,"levelDB_went_went_bad","unknown"),new x(403,"forbidden","Forbidden by design doc validate_doc_update function"),new x(400,"bad_request","Invalid rev format")),M=(new x(412,"file_exists","The database could not be created, the file already exists."),new x(412,"missing_stub","A pre-existing attachment stub wasn't found"));new x(413,"invalid_url","Provided URL is invalid");function j(e,t){function n(t){for(var n in e)"function"!=typeof e[n]&&(this[n]=e[n]);void 0!==t&&(this.reason=t)}return n.prototype=x.prototype,new n(t)}function k(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var i=n&&function(e,t,n){try{return!e(t,n)}catch(e){var r="Filter function threw: "+e.toString();return j(B,r)}}(e.filter,r.doc,t);if("object"==typeof i)return i;if(i)return!1;if(e.include_docs){if(!e.attachments)for(var o in r.doc._attachments)r.doc._attachments.hasOwnProperty(o)&&(r.doc._attachments[o].stub=!0)}else delete r.doc;return!0}}var W=s.v4;function H(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}var P=H(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),X=H(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function J(e){if(!/^\d+-./.test(e))return j(F);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function z(e,t){var n,r,i,o={status:"available"};if(e._deleted&&(o.deleted=!0),t)if(e._id||(e._id=W()),r=s.v4().replace(/-/g,"").toLowerCase(),e._rev){if((i=J(e._rev)).error)return i;e._rev_tree=[{pos:i.prefix,ids:[i.id,{status:"missing"},[[r,o,[]]]]}],n=i.prefix+1}else e._rev_tree=[{pos:1,ids:[r,o,[]]}],n=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,i=[r[0],t,[]],o=1,a=r.length;o<a;o++)i=[r[o],{status:"missing"},[i]];return[{pos:n,ids:i}]}(e._revisions,o),n=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if((i=J(e._rev)).error)return i;n=i.prefix,r=i.id,e._rev_tree=[{pos:n,ids:[r,o,[]]}]}!function(e){var t;if(e?"string"!=typeof e?t=j(N):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=j(R)):t=j(I),t)throw t}(e._id),e._rev=n+"-"+r;var a={metadata:{},data:{}};for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var c="_"===u[0];if(c&&!P[u]){var f=j(D,u);throw f.message=D.message+": "+u,f}c&&!X[u]?a.metadata[u.slice(1)]=e[u]:a.data[u]=e[u]}return a}function V(e){for(var t,n,r,i,o=e.rev_tree.slice();i=o.pop();){var a=i.ids,s=a[2],u=i.pos;if(s.length)for(var c=0,f=s.length;c<f;c++)o.push({pos:u+1,ids:s[c]});else{var d=!!a[1].deleted,l=a[0];t&&!(r!==d?r:n!==u?n<u:t<l)||(t=l,n=u,r=d)}}return n+"-"+t}function Q(e,t){for(var n,r=e.slice();n=r.pop();)for(var i=n.pos,o=n.ids,a=o[2],s=t(0===a.length,i,o[0],n.ctx,o[1]),u=0,c=a.length;u<c;u++)r.push({pos:i+1,ids:a[u],ctx:s})}function Y(e,t){return e.pos-t.pos}function G(e){for(var t=V(e),n=function(e){var t=[];Q(e,function(e,n,r,i,o){e&&t.push({rev:n+"-"+r,pos:n,opts:o})}),t.sort(Y).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}(e.rev_tree),r=[],i=0,o=n.length;i<o;i++){var a=n[i];a.rev===t||a.opts.deleted||r.push(a.rev)}return r}function $(e,t){return e.pos-t.pos}function K(e,t){for(var n,r,i=t,o=e.length;i<o;i++){var a=e[i],s=[a.id,a.opts,[]];r?(r[2].push(s),r=s):n=r=s}return n}function Z(e,t){return e[0]<t[0]?-1:1}function ee(e,t){for(var n,r,i,o=[{tree1:e,tree2:t}],a=!1;o.length>0;){var s=o.pop(),u=s.tree1,c=s.tree2;(u[1].status||c[1].status)&&(u[1].status="available"===u[1].status||"available"===c[1].status?"available":"missing");for(var f=0;f<c[2].length;f++)if(u[2][0]){for(var d=!1,l=0;l<u[2].length;l++)u[2][l][0]===c[2][f][0]&&(o.push({tree1:u[2][l],tree2:c[2][f]}),d=!0);d||(a="new_branch",n=u[2],r=c[2][f],void 0,i=function(e,t,n){for(var r,i=0,o=e.length;i<o;)n(e[r=i+o>>>1],t)<0?i=r+1:o=r;return i}(n,r,Z),n.splice(i,0,r))}else a="new_leaf",u[2][0]=c[2][f]}return{conflicts:a,tree:e}}function te(e,t,n){var r,i=[],o=!1,a=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var s=0,u=e.length;s<u;s++){var c=e[s];if(c.pos===t.pos&&c.ids[0]===t.ids[0])r=ee(c.ids,t.ids),i.push({pos:c.pos,ids:r.tree}),o=o||r.conflicts,a=!0;else if(!0!==n){var f=c.pos<t.pos?c:t,d=c.pos<t.pos?t:c,l=d.pos-f.pos,h=[],v=[];for(v.push({ids:f.ids,diff:l,parent:null,parentIdx:null});v.length>0;){var p=v.pop();if(0!==p.diff)for(var _=p.ids[2],g=0,m=_.length;g<m;g++)v.push({ids:_[g],diff:p.diff-1,parent:p.ids,parentIdx:g});else p.ids[0]===d.ids[0]&&h.push(p)}var y=h[0];y?(r=ee(y.ids,d.ids),y.parent[2][y.parentIdx]=r.tree,i.push({pos:f.pos,ids:f.ids}),o=o||r.conflicts,a=!0):i.push(c)}else i.push(c)}return a||i.push(t),i.sort($),{tree:i,conflicts:o||"internal_node"}}function ne(e,t,n){var r=te(e,t),i=function(e,t){for(var n,r,i=function(e){for(var t,n=[],r=e.slice();t=r.pop();){var i=t.pos,o=t.ids,a=o[0],s=o[1],u=o[2],c=0===u.length,f=t.history?t.history.slice():[];f.push({id:a,opts:s}),c&&n.push({pos:i+1-f.length,ids:f});for(var d=0,l=u.length;d<l;d++)r.push({pos:i+1,ids:u[d],history:f})}return n.reverse()}(e),o=0,a=i.length;o<a;o++){var s,u=i[o],c=u.ids;if(c.length>t){n||(n={});var f=c.length-t;s={pos:u.pos+f,ids:K(c,f)};for(var d=0;d<f;d++){var l=u.pos+d+"-"+c[d].id;n[l]=!0}}else s={pos:u.pos,ids:K(c,0)};r=r?te(r,s,!0).tree:[s]}return n&&Q(r,function(e,t,r){delete n[t+"-"+r]}),{tree:r,revs:n?Object.keys(n):[]}}(r.tree,n);return{tree:i.tree,stemmedRevs:i.revs,conflicts:r.conflicts}}function re(e){return e.ids}function ie(e,t){t||(t=V(e));for(var n,r=t.substring(t.indexOf("-")+1),i=e.rev_tree.map(re);n=i.pop();){if(n[0]===r)return!!n[1].deleted;i=i.concat(n[2])}}function oe(e){return/^_local/.test(e)}var ae=function(e){return atob(e)},se=function(e){return btoa(e)};function ue(e,t){return function(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}([function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(e)],{type:t})}function ce(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return t}function fe(e,t){!function(e,t){if("undefined"==typeof FileReader)return t(ce((new FileReaderSync).readAsArrayBuffer(e)));var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(r)return t(n);t(ce(n))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}(e,function(e){t(e)})}var de=t.setImmediate||t.setTimeout,le=32768;function he(e,t,n,r,i){var o,a,s;(n>0||r<t.size)&&(a=n,s=r,t=(o=t).webkitSlice?o.webkitSlice(a,s):o.slice(a,s)),function(e,t){if("undefined"==typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}(t,function(t){e.append(t),i()})}function ve(e,t,n,r,i){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),i()}function pe(e,t){var n="string"==typeof e,r=n?e.length:e.size,i=Math.min(le,r),o=Math.ceil(r/i),a=0,s=n?new u:new u.ArrayBuffer,c=n?ve:he;function f(){de(l)}function d(){var e=s.end(!0),n=se(e);t(n),s.destroy()}function l(){var t=a*i,n=t+i;c(s,e,t,n,++a<o?f:d)}l()}function _e(e,t,n){var r=function(e){try{return ae(e)}catch(e){return{error:j(C,"Attachment is not a valid base64 string")}}}(e.data);if(r.error)return n(r.error);e.length=r.length,e.data="blob"===t?ue(r,e.content_type):"base64"===t?se(r):r,pe(r,function(t){e.digest="md5-"+t,n()})}function ge(e,t,n){pe(e.data,function(r){var i,o;e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,"binary"===t?fe(e.data,function(t){e.data=t,n()}):"base64"===t?(i=e.data,o=function(t){e.data=t,n()},fe(i,function(e){o(se(e))})):n()})}function me(e,t,n){if(e.stub)return n();"string"==typeof e.data?_e(e,t,n):ge(e,t,n)}function ye(e,t,n,r,i,o,a,s){if(function(e,t){for(var n,r=e.slice(),i=t.split("-"),o=parseInt(i[0],10),a=i[1];n=r.pop();){if(n.pos===o&&n.ids[0]===a)return!0;for(var s=n.ids[2],u=0,c=s.length;u<c;u++)r.push({pos:n.pos+1,ids:s[u]})}return!1}(t.rev_tree,n.metadata.rev))return r[i]=n,o();var u=t.winningRev||V(t),c="deleted"in t?t.deleted:ie(t,u),f="deleted"in n.metadata?n.metadata.deleted:ie(n.metadata),d=/^1-/.test(n.metadata.rev);if(c&&!f&&s&&d){var l=n.data;l._rev=u,l._id=n.metadata.id,n=z(l,s)}var h=ne(t.rev_tree,n.metadata.rev_tree[0],e);if(s&&(c&&f&&"new_leaf"!==h.conflicts||!c&&"new_leaf"!==h.conflicts||c&&!f&&"new_branch"===h.conflicts)){var v=j(L);return r[i]=v,o()}var p=n.metadata.rev;n.metadata.rev_tree=h.tree,n.stemmedRevs=h.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var _=V(n.metadata),g=ie(n.metadata,_),m=c===g?0:c<g?-1:1;a(n,_,g,p===_?g:ie(n.metadata,p),!0,m,i,o)}function Ee(e,t,n,r,i,o,a,s,u){e=e||1e3;var c=s.new_edits,f=new l,d=0,h=t.length;function v(){++d===h&&u&&u()}t.forEach(function(e,t){if(e._id&&oe(e._id)){var r=e._deleted?"_removeLocal":"_putLocal";n[r](e,{ctx:i},function(e,n){o[t]=e||n,v()})}else{var a=e.metadata.id;f.has(a)?(h--,f.get(a).push([e,t])):f.set(a,[[e,t]])}}),f.forEach(function(t,n){var i=0;function u(){++i<t.length?f():v()}function f(){var f=t[i],d=f[0],l=f[1];if(r.has(n))ye(e,r.get(n),d,o,l,u,a,c);else{var h=ne([],d.metadata.rev_tree[0],e);d.metadata.rev_tree=h.tree,d.stemmedRevs=h.stemmedRevs||[],function(e,t,n){var r=V(e.metadata),i=ie(e.metadata,r);if("was_delete"in s&&i)return o[t]=j(O,"deleted"),n();if(c&&"missing"===e.metadata.rev_tree[0].ids[1].status){var u=j(L);return o[t]=u,n()}a(e,r,i,i,!1,i?0:1,t,n)}(d,l,u)}}f()})}function Se(e){try{return JSON.parse(e)}catch(t){return c.parse(e)}}function be(e){try{return JSON.stringify(e)}catch(t){return c.stringify(e)}}function we(e){return e<65?e-48:e-55}function Ae(e,t){return"UTF-8"===t?(n=function(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(we(e.charCodeAt(t++))<<4|we(e.charCodeAt(t++)));return r}(e,0,e.length),decodeURIComponent(escape(n))):function(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(we(e.charCodeAt(t+2))<<12|we(e.charCodeAt(t+3))<<8|we(e.charCodeAt(t))<<4|we(e.charCodeAt(t+1))),t+=4;return r}(e,0,e.length);var n}function Te(e){return"'"+e+"'"}var qe=7,xe=Te("document-store"),Oe=Te("by-sequence"),Le=Te("attach-store"),Ne=Te("local-store"),Ie=Te("metadata-store"),Re=Te("attach-seq-store");function Ce(e){return delete e._id,delete e._rev,JSON.stringify(e)}function De(e,t,n){return(e=JSON.parse(e))._id=t,e._rev=n,e}function Be(e){for(var t="(";e--;)t+="?",e&&(t+=",");return t+")"}function Ue(e,t,n,r,i){return"SELECT "+e+" FROM "+("string"==typeof t?t:t.join(" JOIN "))+(n?" ON "+n:"")+(r?" WHERE "+("string"==typeof r?r:r.join(" AND ")):"")+(i?" ORDER BY "+i:"")}function Fe(e,t,n){if(e.length){var r=0,i=[];e.forEach(function(e){var r="SELECT seq FROM "+Oe+" WHERE doc_id=? AND rev=?";n.executeSql(r,[t,e],function(e,t){if(!t.rows.length)return o();var n=t.rows.item(0).seq;i.push(n),e.executeSql("DELETE FROM "+Oe+" WHERE seq=?",[n],o)})})}function o(){++r===e.length&&function(){if(!i.length)return;var e="SELECT DISTINCT digest AS digest FROM "+Re+" WHERE seq IN "+Be(i.length);n.executeSql(e,i,function(e,t){for(var n=[],r=0;r<t.rows.length;r++)n.push(t.rows.item(r).digest);if(n.length){var o="DELETE FROM "+Re+" WHERE seq IN ("+i.map(function(){return"?"}).join(",")+")";e.executeSql(o,i,function(e){var t="SELECT digest FROM "+Re+" WHERE digest IN ("+n.map(function(){return"?"}).join(",")+")";e.executeSql(t,n,function(e,t){for(var r=new d,i=0;i<t.rows.length;i++)r.add(t.rows.item(i).digest);n.forEach(function(t){r.has(t)||(e.executeSql("DELETE FROM "+Re+" WHERE digest=?",[t]),e.executeSql("DELETE FROM "+Le+" WHERE digest=?",[t]))})})})}})}()}}function Me(e){return function(t){T("error","WebSQL threw an error",t);var n=t&&t.constructor.toString().match(/function ([^(]+)/),r=(n&&n[1]||t.type,t.target||t.message);e(j(U,r))}}function je(e,t,n,r,i,o,a){var s,u=n.new_edits,c=t.docs.map(function(e){return e._id&&oe(e._id)?e:z(e,u)}),f=c.filter(function(e){return e.error});if(f.length)return a(f[0]);var d,h=new Array(c.length),v=new l;function p(){if(d)return a(d);o.notify(r._name),a(null,h)}function _(e){var t=[];if(c.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(n){var r=e.data._attachments[n];r.stub&&t.push(r.digest)})}),!t.length)return e();var n,r=0;t.forEach(function(i){var o,a,u;o=i,a=function(i){i&&!n&&(n=i),++r===t.length&&e(n)},u="SELECT count(*) as cnt FROM "+Le+" WHERE digest=?",s.executeSql(u,[o],function(e,t){if(0===t.rows.item(0).cnt){var n=j(M,"unknown stub attachment with digest "+o);a(n)}else a()})})}function g(e,t,n,i,o,a,u,c){function f(){var t=e.data,n=i?1:0,r=t._id,o=t._rev,a=Ce(t),u="INSERT INTO "+Oe+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",c=[r,o,a,n];function f(e,n){var r,i,o,a=0,u=Object.keys(t._attachments||{});if(!u.length)return n();function c(){return++a===u.length&&n(),!1}for(var f=0;f<u.length;f++)r=u[f],void 0,void 0,i="INSERT INTO "+Re+" (digest, seq) VALUES (?,?)",o=[t._attachments[r].digest,e],s.executeSql(i,o,c,c)}s.executeSql(u,c,function(e,t){var n=t.insertId;f(n,function(){m(e,n)})},function(){var e=Ue("seq",Oe,null,"doc_id=? AND rev=?");return s.executeSql(e,[r,o],function(e,t){var i=t.rows.item(0).seq,s="UPDATE "+Oe+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",u=[a,n,r,o];e.executeSql(s,u,function(e){f(i,function(){m(e,i)})})}),!1})}function d(e){l||(e?c(l=e):p===_.length&&f())}var l=null,p=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev;var _=Object.keys(e.data._attachments||{});function g(e){p++,d(e)}function m(n,i){var a,s,f=e.metadata.id,d=e.stemmedRevs||[];o&&r.auto_compaction&&(d=(a=e.metadata,s=[],Q(a.rev_tree,function(e,t,n,r,i){"available"!==i.status||e||(s.push(t+"-"+n),i.status="missing")}),s).concat(d)),d.length&&Fe(d,f,n),e.metadata.seq=i;var l=e.metadata.rev;delete e.metadata.rev;var p=o?"UPDATE "+xe+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+Oe+" WHERE doc_id="+xe+".id AND rev=?) WHERE id=?":"INSERT INTO "+xe+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",_=be(e.metadata),g=o?[_,i,t,f]:[f,i,i,_];n.executeSql(p,g,function(){h[u]={ok:!0,id:e.metadata.id,rev:l},v.set(f,e.metadata),c()})}i&&(e.data._deleted=!0),_.forEach(function(n){var r,i,o,a,u=e.data._attachments[n];if(u.stub)p++,d();else{var c=u.data;delete u.data,u.revpos=parseInt(t,10);var f=u.digest;r=f,i=c,o=g,a="SELECT digest FROM "+Le+" WHERE digest=?",s.executeSql(a,[r],function(e,t){if(t.rows.length)return o();var n;a="INSERT INTO "+Le+" (digest, body, escaped) VALUES (?,?,1)",e.executeSql(a,[r,(n=i,n.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,""))],function(){o()},function(){return o(),!1})})}}),_.length||f()}function m(){Ee(e.revs_limit,c,r,v,s,h,g,n)}!function(e,t,n){if(!e.length)return n();var r,i=0;function o(){i++,e.length===i&&(r?n(r):n())}e.forEach(function(e){var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],i=0;if(!n.length)return o();function a(e){r=e,++i===n.length&&o()}for(var s in e.data._attachments)e.data._attachments.hasOwnProperty(s)&&me(e.data._attachments[s],t,a)})}(c,"binary",function(e){if(e)return a(e);i.transaction(function(e){s=e,_(function(e){e?d=e:function(e){if(!c.length)return e();var t=0;function n(){++t===c.length&&e()}c.forEach(function(e){if(e._id&&oe(e._id))return n();var t=e.metadata.id;s.executeSql("SELECT json FROM "+xe+" WHERE id = ?",[t],function(e,r){if(r.rows.length){var i=Se(r.rows.item(0).json);v.set(t,i)}n()})})}(m)})},Me(a),p)})}var ke=new l;var We=new A;function He(e,t,n,r,i){var o=Object.keys(e._attachments||{});if(!o.length)return i&&i();var a=0;function s(){++a===o.length&&i&&i()}o.forEach(function(i){var o,a,u,c;t.attachments&&t.include_docs?(a=i,u=(o=e)._attachments[a],c={binary:t.binary,ctx:r},n._getAttachment(o._id,a,u,c,function(e,t){o._attachments[a]=q(S(u,["digest","content_type"]),{data:t}),s()})):(e._attachments[i].stub=!0,s())})}var Pe=1,Xe="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+Oe+" (seq, deleted)",Je="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+Oe+" (doc_id, rev)",ze="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+xe+" (winningseq)",Ve="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+Re+" (seq)",Qe="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+Re+" (digest, seq)",Ye=Oe+".seq = "+xe+".winningseq",Ge=Oe+".seq AS seq, "+Oe+".deleted AS deleted, "+Oe+".json AS data, "+Oe+".rev AS rev, "+xe+".json AS metadata";function $e(e,t){var n,r,i=this,o=null,a="size"in(n=e)?1e6*n.size:"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent)?5e6:1,s=[];i._name=e.name;var u,c,f=q({},e,{version:Pe,description:e.name,size:a}),d=(u=f,(c=ke.get(u.name))||(c=function(e){try{return{db:(t=e,t.websql(t.name,t.version,t.description,t.size))}}catch(e){return{error:e}}var t}(u),ke.set(u.name,c)),c);if(d.error)return Me(t)(d.error);var l=d.db;function h(){w()&&(window.localStorage["_pouch__websqldb_"+i._name]=!0),t(null,i)}function v(e,t){e.executeSql(ze),e.executeSql("ALTER TABLE "+Oe+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){e.executeSql(Xe),e.executeSql("ALTER TABLE "+xe+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){e.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+xe+" (local, id)");var n="SELECT "+xe+".winningseq AS seq, "+xe+".json AS metadata FROM "+Oe+" JOIN "+xe+" ON "+Oe+".seq = "+xe+".winningseq";e.executeSql(n,[],function(e,n){for(var r=[],i=[],o=0;o<n.rows.length;o++){var a=n.rows.item(o),s=a.seq,u=JSON.parse(a.metadata);ie(u)&&r.push(s),oe(u.id)&&i.push(u.id)}e.executeSql("UPDATE "+xe+"SET local = 1 WHERE id IN "+Be(i.length),i,function(){e.executeSql("UPDATE "+Oe+" SET deleted = 1 WHERE seq IN "+Be(r.length),r,t)})})})})}function p(e,t){var n="CREATE TABLE IF NOT EXISTS "+Ne+" (id UNIQUE, rev, json)";e.executeSql(n,[],function(){var n="SELECT "+xe+".id AS id, "+Oe+".json AS data FROM "+Oe+" JOIN "+xe+" ON "+Oe+".seq = "+xe+".winningseq WHERE local = 1";e.executeSql(n,[],function(e,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i));!function n(){if(!r.length)return t(e);var i=r.shift(),o=JSON.parse(i.data)._rev;e.executeSql("INSERT INTO "+Ne+" (id, rev, json) VALUES (?,?,?)",[i.id,o,i.data],function(e){e.executeSql("DELETE FROM "+xe+" WHERE id=?",[i.id],function(e){e.executeSql("DELETE FROM "+Oe+" WHERE seq=?",[i.seq],function(){n()})})})}()})})}function m(e,t){var n="ALTER TABLE "+Oe+" ADD COLUMN doc_id";e.executeSql(n,[],function(n){var i="ALTER TABLE "+Oe+" ADD COLUMN rev";n.executeSql(i,[],function(n){n.executeSql(Je,[],function(n){var i="SELECT hex(doc_id_rev) as hex FROM "+Oe;n.executeSql(i,[],function(n,i){for(var o,a=[],s=0;s<i.rows.length;s++)a.push(i.rows.item(s));o=a,function n(){if(!o.length)return t(e);var i=Ae(o.shift().hex,r),a=i.lastIndexOf("::"),s=i.substring(0,a),u=i.substring(a+2),c="UPDATE "+Oe+" SET doc_id=?, rev=? WHERE doc_id_rev=?";e.executeSql(c,[s,u,i],function(){n()})}()})})})})}function y(e,t){function n(e){var n="SELECT COUNT(*) AS cnt FROM "+Le;e.executeSql(n,[],function(e,n){if(!n.rows.item(0).cnt)return t(e);var r=0,i=10;!function n(){var o=Ue(Ge+", "+xe+".id AS id",[xe,Oe],Ye,null,xe+".id ");o+=" LIMIT "+i+" OFFSET "+r,r+=i,e.executeSql(o,[],function(e,r){if(!r.rows.length)return t(e);for(var i,o,a,s={},u=0;u<r.rows.length;u++)for(var c=r.rows.item(u),f=De(c.data,c.id,c.rev),d=Object.keys(f._attachments||{}),l=0;l<d.length;l++){var h=f._attachments[d[l]];i=h.digest,o=c.seq,a=void 0,-1===(a=s[i]=s[i]||[]).indexOf(o)&&a.push(o)}var v=[];if(Object.keys(s).forEach(function(e){s[e].forEach(function(t){v.push([e,t])})}),!v.length)return n();var p=0;v.forEach(function(t){var r="INSERT INTO "+Re+" (digest, seq) VALUES (?,?)";e.executeSql(r,t,function(){++p===v.length&&n()})})})}()})}var r="CREATE TABLE IF NOT EXISTS "+Re+" (digest, seq INTEGER)";e.executeSql(r,[],function(e){e.executeSql(Qe,[],function(e){e.executeSql(Ve,[],n)})})}function E(e,t){var n="ALTER TABLE "+Le+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";e.executeSql(n,[],t)}function S(e,t){var n="ALTER TABLE "+xe+" ADD COLUMN max_seq INTEGER";e.executeSql(n,[],function(e){var n="UPDATE "+xe+" SET max_seq=(SELECT MAX(seq) FROM "+Oe+" WHERE doc_id=id)";e.executeSql(n,[],function(e){var n="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+xe+" (max_seq)";e.executeSql(n,[],t)})})}function b(){for(;s.length>0;){s.pop()(null,o)}}function A(e,t){if(0===t){var n="CREATE TABLE IF NOT EXISTS "+Ie+" (dbid, db_version INTEGER)",r="CREATE TABLE IF NOT EXISTS "+Le+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",i="CREATE TABLE IF NOT EXISTS "+Re+" (digest, seq INTEGER)",a="CREATE TABLE IF NOT EXISTS "+xe+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",s="CREATE TABLE IF NOT EXISTS "+Oe+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",u="CREATE TABLE IF NOT EXISTS "+Ne+" (id UNIQUE, rev, json)";e.executeSql(r),e.executeSql(u),e.executeSql(i,[],function(){e.executeSql(Ve),e.executeSql(Qe)}),e.executeSql(a,[],function(){e.executeSql(ze),e.executeSql(s,[],function(){e.executeSql(Xe),e.executeSql(Je),e.executeSql(n,[],function(){var t="INSERT INTO "+Ie+" (db_version, dbid) VALUES (?,?)";o=W();var n=[qe,o];e.executeSql(t,n,function(){b()})})})})}else{var c=[v,p,m,y,E,S,function(){t<qe&&e.executeSql("UPDATE "+Ie+" SET db_version = "+qe);var n="SELECT dbid FROM "+Ie;e.executeSql(n,[],function(e,t){o=t.rows.item(0).dbid,b()})}],f=t,d=function(e){c[f-1](e,d),f++};d(e)}}function T(e,t){var n="SELECT MAX(seq) AS seq FROM "+Oe;e.executeSql(n,[],function(e,n){var r=n.rows.item(0).seq||0;t(r)})}function x(e,t){var n=Ue("COUNT("+xe+".id) AS 'num'",[xe,Oe],Ye,Oe+".deleted=0");e.executeSql(n,[],function(e,n){t(n.rows.item(0).num)})}function N(e,t,n,r,i){var o=Ue(Ge,[xe,Oe],Ye,xe+".id=?"),a=[t];e.executeSql(o,a,function(e,t){if(!t.rows.length){var o=j(O,"missing");return i(o)}var a=Se(t.rows.item(0).metadata);r(function(e,t){for(var n,r=t.rev_tree.slice();n=r.pop();){var i=n.pos,o=n.ids,a=o[0],s=o[1],u=o[2],c=0===u.length,f=n.history?n.history.slice():[];if(f.push({id:a,pos:i,opts:s}),c)for(var d=0,l=f.length;d<l;d++){var h=f[d];if(h.pos+"-"+h.id===e)return i+"-"+a}for(var v=0,p=u.length;v<p;v++)r.push({pos:i+1,ids:u[v],history:f})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(n,a))})}"function"!=typeof l.readTransaction&&(l.readTransaction=l.transaction),l.transaction(function(e){var t;t=function(){var t;t="SELECT sql FROM sqlite_master WHERE tbl_name = "+Ie,e.executeSql(t,[],function(e,t){t.rows.length?/db_version/.test(t.rows.item(0).sql)?e.executeSql("SELECT db_version FROM "+Ie,[],function(e,t){var n=t.rows.item(0).db_version;A(e,n)}):e.executeSql("ALTER TABLE "+Ie+" ADD COLUMN db_version INTEGER",[],function(){A(e,1)}):A(e,0)})},e.executeSql('SELECT HEX("a") AS hex',[],function(e,n){var i=n.rows.item(0).hex;r=2===i.length?"UTF-8":"UTF-16",t()})},Me(t),h),i._remote=!1,i.type=function(){return"websql"},i._id=g(function(e){e(null,o)}),i._info=function(e){var t,n;l.readTransaction(function(e){T(e,function(e){t=e}),x(e,function(e){n=e})},Me(e),function(){e(null,{doc_count:n,update_seq:t,websql_encoding:r})})},i._bulkDocs=function(t,n,r){je(e,t,n,i,l,We,r)},i._get=function(e,t,n){var r,o,a,s,u=t.ctx;if(!u)return l.readTransaction(function(r){i._get(e,q({ctx:r},t),n)});function c(e){n(e,{doc:r,metadata:o,ctx:u})}if(t.rev){if(t.latest)return void N(u,e,t.rev,function(r){t.latest=!1,t.rev=r,i._get(e,t,n)},c);a=Ue(Ge,[xe,Oe],xe+".id="+Oe+".doc_id",[Oe+".doc_id=?",Oe+".rev=?"]),s=[e,t.rev]}else a=Ue(Ge,[xe,Oe],Ye,xe+".id=?"),s=[e];u.executeSql(a,s,function(e,n){if(!n.rows.length)return c(j(O,"missing"));var i=n.rows.item(0);if(o=Se(i.metadata),i.deleted&&!t.rev)return c(j(O,"deleted"));r=De(i.data,o.id,i.rev),c()})},i._allDocs=function(e,t){var n,r,o=[],a="startkey"in e&&e.startkey,s="endkey"in e&&e.endkey,u="key"in e&&e.key,c="keys"in e&&e.keys,f="descending"in e&&e.descending,d="limit"in e?e.limit:-1,h="skip"in e?e.skip:0,v=!1!==e.inclusive_end,p=[],_=[];if(c){var g=[],m="";c.forEach(function(e){-1===g.indexOf(e)&&(g.push(e),m+="?,")}),m=m.substring(0,m.length-1),_.push(xe+".id IN ("+m+")"),p=p.concat(g)}else if(!1!==u)_.push(xe+".id = ?"),p.push(u);else if(!1!==a||!1!==s){if(!1!==a&&(_.push(xe+".id "+(f?"<=":">=")+" ?"),p.push(a)),!1!==s){var y=f?">":"<";v&&(y+="="),_.push(xe+".id "+y+" ?"),p.push(s)}!1!==u&&(_.push(xe+".id = ?"),p.push(u))}c||_.push(Oe+".deleted = 0"),l.readTransaction(function(t){if(x(t,function(e){n=e}),e.update_seq&&T(t,function(e){r=e}),0!==d){var a=Ue(Ge,[xe,Oe],Ye,_,xe+".id "+(f?"DESC":"ASC"));a+=" LIMIT "+d+" OFFSET "+h,t.executeSql(a,p,function(t,n){for(var r=0,a=n.rows.length;r<a;r++){var s=n.rows.item(r),u=Se(s.metadata),f=u.id,d=De(s.data,f,s.rev),l=d._rev,h={id:f,key:f,value:{rev:l}};if(e.include_docs){if(h.doc=d,h.doc._rev=l,e.conflicts){var v=G(u);v.length&&(h.doc._conflicts=v)}He(h.doc,e,i,t)}if(s.deleted){if(!c)continue;h.value.deleted=!0,h.doc=null}if(c){var p=c.indexOf(f,p);do{o[p]=h,p=c.indexOf(f,p+1)}while(p>-1&&p<c.length)}else o.push(h)}c&&c.forEach(function(e,t){o[t]||(o[t]={key:e,error:"not_found"})})})}},Me(t),function(){var i={total_rows:n,offset:e.skip,rows:o};e.update_seq&&(i.update_seq=r),t(null,i)})},i._changes=function(e){if((e=_(e)).continuous){var t=i._name+":"+W();return We.addListener(i._name,t,i,e),We.notify(i._name),{cancel:function(){We.removeListener(i._name,t)}}}var n=e.descending;e.since=e.since&&!n?e.since:0;var r,o="limit"in e?e.limit:-1;0===o&&(o=1),r="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var a=[],s=0;!function(){var t=xe+".json AS metadata, "+xe+".max_seq AS maxSeq, "+Oe+".json AS winningDoc, "+Oe+".rev AS winningRev ",u=xe+" JOIN "+Oe,c=xe+".id="+Oe+".doc_id AND "+xe+".winningseq="+Oe+".seq",f=["maxSeq > ?"],d=[e.since];e.doc_ids&&(f.push(xe+".id IN "+Be(e.doc_ids.length)),d=d.concat(e.doc_ids));var h=Ue(t,u,c,f,"maxSeq "+(n?"DESC":"ASC")),v=k(e);e.view||e.filter||(h+=" LIMIT "+o);var p=e.since||0;l.readTransaction(function(t){t.executeSql(h,d,function(t,n){function u(t){return function(){e.onChange(t)}}for(var c=0,f=n.rows.length;c<f;c++){var d=n.rows.item(c),l=Se(d.metadata);p=d.maxSeq;var h=De(d.winningDoc,l.id,d.winningRev),_=e.processChange(h,l,e);_.seq=d.maxSeq;var g=v(_);if("object"==typeof g)return e.complete(g);if(g&&(s++,r&&a.push(_),e.attachments&&e.include_docs?He(h,e,i,t,u(_)):u(_)()),s===o)break}})},Me(e.complete),function(){e.continuous||e.complete(null,{results:a,last_seq:p})})}()},i._close=function(e){e()},i._getAttachment=function(e,t,n,i,o){var a,s=i.ctx,u=n.digest,c=n.content_type,f="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+Le+" WHERE digest=?";s.executeSql(f,[u],function(e,t){var n=t.rows.item(0),s=n.escaped?n.body.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""):Ae(n.body,r);a=i.binary?ue(s,c):se(s),o(null,a)})},i._getRevisionTree=function(e,t){l.readTransaction(function(n){var r="SELECT json AS metadata FROM "+xe+" WHERE id = ?";n.executeSql(r,[e],function(e,n){if(n.rows.length){var r=Se(n.rows.item(0).metadata);t(null,r.rev_tree)}else t(j(O))})})},i._doCompaction=function(e,t,n){if(!t.length)return n();l.transaction(function(n){var r="SELECT json AS metadata FROM "+xe+" WHERE id = ?";n.executeSql(r,[e],function(n,r){var i=Se(r.rows.item(0).metadata);Q(i.rev_tree,function(e,n,r,i,o){var a=n+"-"+r;-1!==t.indexOf(a)&&(o.status="missing")});var o="UPDATE "+xe+" SET json = ? WHERE id = ?";n.executeSql(o,[be(i),e])}),Fe(t,e,n)},Me(n),function(){n()})},i._getLocal=function(e,t){l.readTransaction(function(n){var r="SELECT json, rev FROM "+Ne+" WHERE id=?";n.executeSql(r,[e],function(n,r){if(r.rows.length){var i=r.rows.item(0),o=De(i.json,e,i.rev);t(null,o)}else t(j(O))})})},i._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r,i=e._rev,o=e._id;r=e._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var a,s=Ce(e);function u(e){var u,c;i?(u="UPDATE "+Ne+" SET rev=?, json=? WHERE id=? AND rev=?",c=[r,s,o,i]):(u="INSERT INTO "+Ne+" (id, rev, json) VALUES (?,?,?)",c=[o,r,s]),e.executeSql(u,c,function(e,i){i.rowsAffected?(a={ok:!0,id:o,rev:r},t.ctx&&n(null,a)):n(j(L))},function(){return n(j(L)),!1})}t.ctx?u(t.ctx):l.transaction(u,Me(n),function(){a&&n(null,a)})},i._removeLocal=function(e,t,n){var r;function i(i){var o="DELETE FROM "+Ne+" WHERE id=? AND rev=?",a=[e._id,e._rev];i.executeSql(o,a,function(i,o){if(!o.rowsAffected)return n(j(O));r={ok:!0,id:e._id,rev:"0-0"},t.ctx&&n(null,r)})}"function"==typeof t&&(n=t,t={}),t.ctx?i(t.ctx):l.transaction(i,Me(n),function(){r&&n(null,r)})},i._destroy=function(e,t){We.removeAllListeners(i._name),l.transaction(function(e){[xe,Oe,Le,Ie,Ne,Re].forEach(function(t){e.executeSql("DROP TABLE IF EXISTS "+t,[])})},Me(t),function(){w()&&(delete window.localStorage["_pouch__websqldb_"+i._name],delete window.localStorage[i._name]),t(null,{ok:!0})})}}function Ke(){if("undefined"==typeof indexedDB||null===indexedDB||!/iP(hone|od|ad)/.test(navigator.userAgent))return!0;var e=w(),t="_pouch__websqldb_valid_"+navigator.userAgent;if(e&&localStorage[t])return"1"===localStorage[t];var n=function(){try{return openDatabase("_pouch_validate_websql",1,"",1),!0}catch(e){return!1}}();return e&&(localStorage[t]=n?"1":"0"),n}function Ze(e,t,n,r){return openDatabase(e,t,n,r)}function et(e,t){T("warn","WebSQL is deprecated and will be removed in future releases of PouchDB. Please migrate to IndexedDB: https://pouchdb.com/2018/01/23/pouchdb-6.4.2.html");var n=q({websql:Ze},e);$e.call(this,n,t)}et.valid=function(){return"function"==typeof openDatabase&&Ke()},et.use_prefix=!0,"undefined"==typeof PouchDB?T("error",'websql adapter plugin error: Cannot find global "PouchDB" object! Did you remember to include pouchdb.js?'):PouchDB.plugin(function(e){e.adapter("websql",et,!0)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1,11:11,2:2,3:3,4:4,5:5,6:6}]},{},[12]);